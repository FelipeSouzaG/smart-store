# Smart Store Management

An intelligent management system for an electronics, accessories, and cell phone repair store, featuring user authentication, inventory control, cash register, sales, and a smart KPI dashboard powered by Gemini.

This project is a full-stack MERN (MongoDB, Express, React, Node.js) application.

## Project Structure

```
/
├── components/       # React components
├── contexts/         # React contexts
├── middleware/       # Express middleware for auth
├── models/           # Mongoose schemas for MongoDB
├── routes/           # Express API routes
├── services/         # Frontend services (e.g., Gemini integration)
├── App.tsx           # Main React App component
├── index.tsx         # React entry point
├── server.js         # Express backend server
├── package.json      # Backend dependencies and scripts
└── README.md
```

## Prerequisites

-   [Node.js](https://nodejs.org/) (v14 or later)
-   [MongoDB](https://www.mongodb.com/try/download/community) installed and running locally, or a MongoDB Atlas cluster.
-   A Google Gemini API Key.

## Setup Instructions

### 1. Clone the repository

```bash
git clone <repository-url>
cd smart-store-management
```

### 2. Configure Environment Variables

Create a `.env` file in the root directory of the project by copying the example file:

```bash
cp .env.example .env
```

Now, open the `.env` file and add your configuration details:

```
# MongoDB Connection String
# For local MongoDB:
MONGODB_URI=mongodb://localhost:27017/smartstore
# For MongoDB Atlas, use the connection string provided by Atlas.

# Google Gemini API Key
# Get your key from Google AI Studio: https://aistudio.google.com/app/apikey
API_KEY=YOUR_GEMINI_API_KEY

# JWT Secret for signing authentication tokens
# Use a long, random, and secret string here
JWT_SECRET=your_super_secret_jwt_key_that_is_very_long_and_random
```

### 3. Install Dependencies

The `package.json` is configured to install both frontend and backend dependencies concurrently.

```bash
npm install
```

This will install Express, Mongoose, CORS, and other backend packages. The frontend dependencies are managed via the import map in `index.html` and do not require a separate installation step.

## Running the Application

This project uses `concurrently` to start both the backend server and the frontend development server with a single command.

```bash
npm start
```

This command will:
1.  Start the Node.js/Express backend server on `http://localhost:5000`.
2.  Start the vite development server for the React frontend on `http://localhost:3000` (or another available port).

Your default web browser should open automatically to the application.

## How It Works

-   **Backend**: The backend is built with Node.js and Express. It connects to a MongoDB database using Mongoose to store and manage all application data. It exposes a RESTful API for the frontend to consume.
-   **Frontend**: The frontend is a single-page application built with React and TypeScript. It uses `fetch` to communicate with the backend API for all data operations. State management is handled through React hooks (`useState`, `useContext`, `useMemo`).
-   **Security**: Authentication is handled using JSON Web Tokens (JWT). The backend protects routes using middleware to ensure only authenticated and authorized users can access specific resources. Security headers, rate limiting, and input sanitization are also implemented.
-   **Gemini Integration**: The AI-powered management insights are generated by the Gemini API. The frontend sends KPI data to a dedicated backend endpoint, which then securely calls the Gemini API and returns the insights. This protects the API key by keeping it on the server side.